{% extends 'base.html' %}

{% block title %}Esfuerzo del Proyecto{% endblock %}
{% block content %}
<body>
  <div class="container mt-4">
    <h1 class="mb-4">Esfuerzo del Proyecto: <span class="text-primary">{{ proyecto.nombre }}</span></h1>

    <div class="card mb-4">
      <div class="card-body">
        <p><strong>Esfuerzo Estimado:</strong> {{ esfuerzo_proyecto.esfuerzo_estimado }} horas</p>
        <p><strong>Esfuerzo Real:</strong> {{ esfuerzo_proyecto.esfuerzo_real }} horas</p>
        <p>
          <strong>Diferencia:</strong>
          <span
            class="{% if diferencia > 0 %}text-success{% elif diferencia < 0 %}text-danger{% else %}text-warning{% endif %}"
          >
            {{ diferencia }} horas
          </span>
        </p>
      </div>
    </div>

    <div class="alert {% if diferencia > 0 %}alert-success{% elif diferencia < 0 %}alert-danger{% else %}alert-warning{% endif %}">
      {% if diferencia > 0 %}
      <p>El equipo tiene margen para completar el proyecto dentro del esfuerzo estimado.</p>
      {% elif diferencia < 0 %}
      <p>El equipo ha excedido el esfuerzo estimado.</p>
      {% else %}
      <p>El equipo ha alcanzado exactamente el esfuerzo estimado.</p>
      {% endif %}
    </div>

    <a
      href="{% url 'agregar_esfuerzo' project_id=project_id %}"
      class="btn btn-primary"
    >
      Actualizar Esfuerzo
    </a>
    <a
      href="{% url 'view_project_plan' project_id=project_id %}"
      class="btn btn-secondary"
    >
      Regresar al Plan del Proyecto
    </a>
  </div>
</body>
{% endblock %}
